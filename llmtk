#!/bin/bash

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
MODULES_DIR="$SCRIPT_DIR/modules"
EXPORTS_DIR="$PWD/exports"

case "$1" in
    "doctor")
        shift
        "$MODULES_DIR/doctor.sh" "$@"
        ;;
    "context")
        if [[ "$2" == "export" ]]; then
            shift 2
            "$MODULES_DIR/context-export.sh" "$@"
        fi
        ;;
    "analyze")
        shift
        "$MODULES_DIR/analyze.sh" "$@"
        ;;
    "deps")
        shift
        "$MODULES_DIR/deps.sh" "$@"
        ;;
    "diff-context")
        shift
        "$MODULES_DIR/diff-context.sh" "$@"
        ;;
    *)
        echo "Usage: llmtk {doctor|context export|analyze|deps|diff-context} [options]"
        exit 1
        ;;
esac

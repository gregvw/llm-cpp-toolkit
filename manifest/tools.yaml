schema: 1
tools:
  # Core
  cmake:
    role: core
    min_version: ">=3.22"
    provides: ["build", "configure"]
    check:
      cmd: ["cmake", "--version"]
  ninja:
    role: core
    min_version: ">=1.10"
    provides: ["build-backend"]
    check:
      cmd: ["ninja", "--version"]
  bear:
    role: core
    min_version: ">=3"
    provides: ["compile-db"]
    check:
      cmd: ["bear", "--version"]
  clangd:
    role: core
    min_version: ">=17"
    provides: ["lsp", "xref", "refactor"]
    check:
      cmd: ["clangd", "--version"]
  clang-format:
    role: core
    min_version: ">=17"
    provides: ["format"]
    check:
      cmd: ["clang-format", "--version"]
  clang-tidy:
    role: core
    min_version: ">=17"
    provides: ["lint", "analysis"]
    install:
      apt: ["clang-tidy-18", "clang-tidy", "clang-tools-extra"]
      dnf: ["clang-tools-extra"]
      pacman: ["clang"]
      brew: ["llvm@18", "llvm"]
      nix: ["clang-tools_18", "clang-tools"]
    check:
      cmd: ["clang-tidy", "--version"]
  rg:
    role: core
    min_version: ">=13"
    provides: ["search"]
    check:
      cmd: ["rg", "--version"]
  fd:
    role: core
    min_version: ">=8"
    provides: ["file-find"]
    check:
      cmd: ["fd", "--version"]
  jq:
    role: core
    min_version: ">=1.6"
    provides: ["json"]
    check:
      cmd: ["jq", "--version"]
  yq:
    role: core
    min_version: ">=4"
    provides: ["yaml"]
    check:
      cmd: ["yq", "--version"]
  ccache:
    role: core
    min_version: ">=4"
    provides: ["cache"]
    fallbacks: ["sccache"]
    check:
      cmd: ["ccache", "--version"]
  mold:
    role: core
    min_version: ">=2"
    provides: ["linker"]
    fallbacks: ["lld"]
    check:
      cmd: ["mold", "--version"]

  # Recommended
  include-what-you-use:
    role: recommended
    min_version: ">=0.20"
    provides: ["include-analysis"]
    install:
      apt: ["iwyu", "include-what-you-use"]
      dnf: ["include-what-you-use"]
      pacman: ["include-what-you-use"]
      brew: ["include-what-you-use"]
      nix: ["include-what-you-use"]
    local_install:
      github_repo: "include-what-you-use/include-what-you-use"
      build_method: "cmake"
    check:
      cmd: ["include-what-you-use", "--version"]
  iwyu-tool:
    role: recommended
    min_version: ">=0.20"
    provides: ["include-analysis"]
    check:
      cmd: ["iwyu-tool", "--version"]
  cppcheck:
    role: recommended
    min_version: ">=2.9"
    provides: ["static-analysis"]
    install:
      apt: ["cppcheck"]
      dnf: ["cppcheck"]
      pacman: ["cppcheck"]
      brew: ["cppcheck"]
      nix: ["cppcheck"]
    local_install:
      github_repo: "danmar/cppcheck"
      release_pattern: "cppcheck-{version}-linux.tar.gz"
      binary_path: "bin/cppcheck"
      checksums:
        "2.12.1": "sha256:3b3b1c70d1e0d37d1d5c4f40a1a7a95f0a3c7a8b7c4f4d3e4f4e4f4e4f4e4f4e"
    check:
      cmd: ["cppcheck", "--version"]
  universal-ctags:
    role: recommended
    min_version: ">=6.0.0"
    provides: ["indexing"]
    check:
      cmd: ["ctags", "--version"]
  fzf:
    role: recommended
    min_version: ">=0.35"
    provides: ["fuzzy-find"]
    check:
      cmd: ["fzf", "--version"]
  zoxide:
    role: recommended
    min_version: ">=0.9"
    provides: ["jump"]
    check:
      cmd: ["zoxide", "-V"]
  bat:
    role: recommended
    min_version: ">=0.23"
    provides: ["pager"]
    check:
      cmd: ["bat", "--version"]
  tokei:
    role: recommended
    min_version: ">=12"
    provides: ["code-stats"]
    check:
      cmd: ["tokei", "--version"]
  hyperfine:
    role: recommended
    min_version: ">=1.15"
    provides: ["benchmark"]
    check:
      cmd: ["hyperfine", "--version"]
  entr:
    role: recommended
    min_version: ">=5.0"
    provides: ["watch"]
    fallbacks: ["watchexec"]
    check:
      cmd: ["entr", "-v"]
  pre-commit:
    role: recommended
    min_version: ">=3"
    provides: ["hooks"]
    check:
      cmd: ["pre-commit", "--version"]

  # Optional
  eza:
    role: optional
    min_version: ">=0.18"
    provides: ["ls"]
    check:
      cmd: ["eza", "--version"]
    fallbacks: ["exa", "lsd"]
  tree:
    role: optional
    min_version: ">=1.8"
    provides: ["tree"]
    check:
      cmd: ["tree", "--version"]
  procs:
    role: optional
    min_version: ">=0.12"
    provides: ["ps"]
    check:
      cmd: ["procs", "--version"]
  bottom:
    role: optional
    min_version: ">=0.9"
    provides: ["monitor"]
    check:
      cmd: ["btm", "--version"]
  httpie:
    role: optional
    min_version: ">=3"
    provides: ["http-client"]
    check:
      cmd: ["http", "--version"]
    fallbacks: ["xh"]
  tldr:
    role: optional
    min_version: ">=1.2"
    provides: ["docs"]
    check:
      cmd: ["tldr", "--version"]
  cheat:
    role: optional
    min_version: ">=4.4"
    provides: ["cheatsheets"]
    check:
      cmd: ["cheat", "--version"]
  difftastic:
    role: optional
    min_version: ">=0.55"
    provides: ["diff"]
    check:
      cmd: ["difft", "--version"]
  delta:
    role: optional
    min_version: ">=0.12"
    provides: ["git-pager"]
    check:
      cmd: ["delta", "--version"]
